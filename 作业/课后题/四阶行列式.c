#include<stdio.h>

int main()
{
    int a[4][4];
    double b[4][4];
    double x;
    int r=3;
    int sum;

    printf("请输入四阶行列式：\n");
    /*
    for (int i = 0; i <= r; i++)
    {
        for (int j = 0; j < r; j++)
        {
            a[i][j] = (int)getchar();
            getchar();
        }
        scanf("%d",a[i][r]);
    }
    */
    
    scanf("%d%d%d%d",&a[0][0],&a[0][1],&a[0][2],&a[0][3]);
    scanf("%d%d%d%d",&a[1][0],&a[1][1],&a[1][2],&a[1][3]);
    scanf("%d%d%d%d",&a[2][0],&a[2][1],&a[2][2],&a[2][3]);
    scanf("%d%d%d%d",&a[3][0],&a[3][1],&a[3][2],&a[3][3]);
    
    
    for (int i = 1; i <= r; i++)//从i=1，第二行开始
    {
        for (int j = 0; j < i; j++)
        {
            x = (double)a[i][j]/a[j][j];
            for (int k = 0; k <= r; k++)
            {    
                a[i][k] = a[i][k]-x*a[j][k];
            }
        }
        
    }

    printf("\n");
    for (int i = 0; i <= r; i++)
    {
        for (int j = 0; j <= r; j++)
        {
            printf("%d  ",a[i][j]);
        }
        printf("\n");
    }

    sum = a[0][0];
    for (int i = 1; i <= r; i++)
    {
    sum *= a[i][i];
    }
    printf("结果为：%d",sum);
    
    return 0;
}
/*
    //r1
    b[0][0] = a[0][0];
    b[0][1] = a[0][1];
    b[0][2] = a[0][2];
    b[0][3] = a[0][3];
    //r2
    x=(double)a[1][0]/a[0][0];
    b[1][0] = a[1][0]-x*a[0][0];
    b[1][1] = a[1][1]-x*a[0][1];
    b[1][2] = a[1][2]-x*a[0][2];
    b[1][3] = a[1][3]-x*a[0][3];
    //r3
    x = (double)a[2][0]/a[0][0];
    b[2][0] = a[2][0]-x*a[0][0];
    b[2][1] = a[2][1]-x*a[0][1];
    b[2][2] = a[2][2]-x*a[0][2];
    b[2][3] = a[2][3]-x*a[0][3];
    
    x = (double)b[2][1]/b[1][1];
    b[2][0] = b[2][0]-x*b[1][0];
    b[2][1] = b[2][1]-x*b[1][1];
    b[2][2] = b[2][2]-x*b[1][2];
    b[2][3] = b[2][3]-x*b[1][3];
    //r4
    x = (double)a[3][0]/a[0][0];
    b[3][0] = a[3][0]-x*a[0][0];
    b[3][1] = a[3][1]-x*a[0][1];
    b[3][2] = a[3][2]-x*a[0][2];
    b[3][3] = a[3][3]-x*a[0][3];
    
    x = (double)b[3][1]/b[1][1];
    b[3][0] = b[3][0]-x*b[1][0];
    b[3][1] = b[3][1]-x*b[1][1];
    b[3][2] = b[3][2]-x*b[1][2];
    b[3][3] = b[3][3]-x*b[1][3];

    x = (double)b[3][2]/b[2][2];
    b[3][0] = b[3][0]-x*b[2][0];
    b[3][1] = b[3][1]-x*b[2][1];
    b[3][2] = b[3][2]-x*b[2][2];
    b[3][3] = b[3][3]-x*b[2][3];

    printf("\n");
    printf("%2.0f  %2.0f  %2.0f  %2.0f\n",b[0][0],b[0][1], b[0][2], b[0][3]);
    printf("%2.0f  %2.0f  %2.0f  %2.0f\n",b[1][0],b[1][1], b[1][2], b[1][3]);
    printf("%2.0f  %2.0f  %2.0f  %2.0f\n",b[2][0],b[2][1], b[2][2], b[2][3]);
    printf("%2.0f  %2.0f  %2.0f  %2.0f\n",b[3][0],b[3][1], b[3][2], b[3][3]);
    sum=b[0][0]*b[1][1]*b[2][2]*b[3][3];
    printf("结果为：%d",sum);
*/